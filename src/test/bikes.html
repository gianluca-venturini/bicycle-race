<html>

<head lang="en">
    <meta charset="UTF-8">
    <title>Project2</title>
    <link rel="stylesheet" href="/style/leaflet.css" />
    <link rel="stylesheet" href="/style/app.css" />
    <script src="/library/leaflet.js"></script>
    <script src="/library/d3.v3.min.js"></script>
    <script src="/library/geojson-utils.js"></script>
    <script src="/library/graphic_manager.js"></script>
    <script src="/library/data_manager.js"></script>
    <script src="/library/controls.js"></script>
    <script src="/library/marker.js"></script>
    <style>
        #map {
            height: 100%;
        }
        .submap {
            border: solid 1px black;
        }
    </style>
</head>

<body>
    <div id="map"></div>

    <script>
        var gm = new GraphicManager("map");
        gm.createMap("grey");


        gm.updateWindow();



        // Test bikes
        var minutes = 10;
        setInterval(function () {
            gm.dm.hour = "13:"+minutes;
            gm.dm.date = "2013-08-01";
            gm.drawBikesInMoment();
            minutes += 1;
        }, 3000);
        
        gm.updateWindow();

         // Need this call in  order to inform the graphics manager that something changed
        window.onresize = gm.updateWindow.bind(gm);
    </script>
</body>

</html>